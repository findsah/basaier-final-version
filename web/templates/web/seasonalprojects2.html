{% extends 'web/navbardark.html' %}
{% load static %}
{% load humanize %}
{% load i18n %}
{% load app_filters %}
{% load widget_tweaks %}

{% block content %}
    <div class="container-fluid" style="display: flex;margin-top: 10rem;">
        <div class="container mainProjects">
            <h3 class="pathlink">الرئيسيه / اهداء تبرع</h3>
            <div class="title">
                <h2 style="color: #1385B2; font-size: 37px;">المشاريع الموسميه</h2>
                <p style="color: #858585; font-size: 15px;">
                    يمكنك التعرف علي المشاريع الموسميه
                </p>
            </div>

            <div class="hideHiddenDiv">
                <form action="{% url 'search_project' %}" method="post">
                    {% csrf_token %}
                    <h5 style="font-weight: normal;">ابحث عن مشروع موسمي</h5>
                    <div class="sections"
                         style="border-bottom: 0;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;">
                        <div class="inputDiv" style="margin: 0; width: 75%;">
                            {% render_field myFilter.form.name placeholder="Name" %}
                        </div>
                        <a data-bs-toggle="collapse"
                           style="text-decoration: none !important;"
                           href="#collapseExample"
                           role="button"
                           aria-expanded="false"
                           aria-controls="collapseExample">
                            خيارات البحث<i class="fa fa-angle-down" style="margin-right: 5px"></i>
                        </a>
                    </div>
                    <div class="collapse" id="collapseExample">
                        <div>
                            <div class="sections" style="border-bottom: 0;">
                                <h5 style="font-weight: normal;">ابحث عن مشروع موسمي</h5>
                                {#                    <form action="{% url 'searchproject' %}" method="POST">#}
                                <div class="inputDiv" style="margin: 0; width: 100%;">
                                    {% render_field myFilter.form.name placeholder="Name" %}
                                </div>
                            </div>
                            <div class="sections" style="border-bottom: 0;">
                                <h5 style="font-weight: normal;">تصفيه حسب الدوله</h5>
                                {{ myFilter.form.location|add_class:'formDivInput inputDiv' }}
                            </div>
                            <div class="sections" style="border-bottom: 0;">
                                {{ myFilter.form.category|add_class:'formDivInput inputDiv' }}
                            </div>
                            <div class="d-flex justify-content-between">
                                <div class="sections" style="border-bottom: 0;">
                                    <h5 style="font-weight: normal;">تصفيه حسب السعر</h5>

                                    <div id="slider-outer-div" style="z-index: 2;">
                                        <div id="slider-max-label" class="slider-label"></div>
                                        <div id="slider-min-label" class="slider-label"></div>
                                        <div id="slider-div">
                                            <div>50 DH</div>
                                            <div>
                                                <input id="ex2" type="text" data-slider-min="50"
                                                       data-slider-max="2000" data-slider-value="[50,300]"
                                                       data-slider-tooltip="hide"/>
                                            </div>
                                            <div>2000 DH</div>
                                        </div>
                                    </div>
                                    {#                        {% render_field myFilter.form.total_amount class="formDivInput inputDiv" placeholder="Amount" %}#}
                                </div>
                                <div class="sections"
                                     style="border-bottom: none;
                                        border-bottom: 0;">
                                    <h5 style="font-weight: normal;">الذكاة</h5>
                                    {% render_field myFilter.form.isZakat class="d-flex justify-content-around list-unstyled" %}
                                </div>
                            </div>
                            <div style="display: flex; justify-content: center; align-items: center;">
                                <button type="submit"
                                        class="btnOfQuickDonate"
                                        style="background-color: #00B4DB;">Search
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="firstSection">
                <div class="row firstSectionCard">
                    {% for project in employee %}
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="firstSectionCard1">
                                <!-- مشروع برد عليهم -->
                                <p class="firstSectionCard1P">
                                    {{ project.get_name }}
                                </p>
                                <img src="/media/{{ project.image }}"
                                     alt="cardimg"
                                     style="width: 100%;
                                                height: 234px;">
                            </div>
                            <form>
                                {% csrf_token %}
                                <div class="firstSectionCard2">
                                    <div class="firstSectionCard2div">
                                        <p>
                                            دينار كويت
                                        </p>
                                        <input type="number"
                                               step="any"
                                               min="0"
                                               name="amount[]"
                                               id="enteredCost{{ project.id }}">
                                        <input type="hidden"
                                               id="first-price-{{ project.id }}"
                                               value="{{ project.suggestedDonation | intcomma:False }}">
                                    </div>
                                    <div class="d-flex justify-content-between my-3">
                                        <input type="submit"
                                               class="firstSectionCard2btns addToCartProjectOfNewPageOfSeasonalProjects"
                                               style="color: #fff;
                                                          background-color: #1385B2;"
                                               value="تبرع"
                                               projectId="{{ project.id }}"/>
                                        {#                                <a href="{% url 'refundproject' project.id %}">#}
                                        <a href="{% url 'project-detail' project.id %}"
                                           class="firstSectionCard2btns"
                                           style="color: gray;
                                                      background-color: #fff;
                                                      border: 1px solid #1385B2;">
                                            تفاصيل
                                        </a>
                                        <input type="hidden" id="projectId{{ project.id }}" value="{{ project.id }}">
                                        <input type="hidden"
                                               class="project_category_id"
                                               name="project_category_id[]"
                                               value="{{ project.category.first.id }}">
                                        <input type="hidden" name="project_id[]" value="{{ project.id }} ">
                                    </div>
                                </div>
                            </form>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <br><br><br>


        <div style="width: 23%" class="sidePanelFilter">
            <form action="{% url 'search_project' %}" method="post">
                {% csrf_token %}
                <div class="sidefilters">
                    <div class="sections">
                        <h5 style="font-weight: normal;">ابحث عن مشروع موسمي</h5>
                        {#                    <form action="{% url 'searchproject' %}" method="POST">#}
                        {#                {{ myFilter.form.name|add_class:'formDivInput inputDiv' }}#}
                        {% render_field myFilter.form.name class="formDivInput inputDiv justify-content-right" placeholder="Name" %}
                    </div>
                    <div class="sections">
                        <h5 style="font-weight: normal;">تصفيه حسب الدوله</h5>
                        {{ myFilter.form.location|add_class:'formDivInput inputDiv' }}
                    </div>
                    <div class="sections">
                        <h5 style="font-weight: normal;">تصفيه حسب الدوله</h5>
                        {{ myFilter.form.category|add_class:'formDivInput inputDiv' }}
                    </div>
                    <div class="sections">
                        <h5 style="font-weight: normal;">تصفيه حسب السعر</h5>

                        <div style="z-index: 2; padding: 3px 2rem;">
                            <div id="slider-range"></div>
                            <div class="d-flex justify-content-between slider-labels">
                                <span id="slider-range-value1"></span>
                                <span id="slider-range-value2"></span>
                            </div>
                            <input type="hidden" name="min-value" value="">
                            <input type="hidden" name="max-value" value="">
                        </div>
                        {#                {% render_field myFilter.form.total_amount class="formDivInput inputDiv" placeholder="Amount" %}#}
                    </div>
                    <div class="sections" style="border-bottom: none;">
                        <h5 style="font-weight: normal;">الذكاة</h5>
                        {% render_field myFilter.form.isZakat class="d-flex justify-content-around list-unstyled" %}
                        <div style="display: flex; justify-content: center; align-items: center;">
                            <button type="submit"
                                    class="btnOfQuickDonate"
                                    style="background-color: #00B4DB;">Search
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

{% endblock %}
